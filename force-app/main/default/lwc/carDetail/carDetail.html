<template>
    <div class="car-detail-wrapper">
        <template if:true={car}>
            <header class="header">HONDA</header>

            <div class="main-container">
                <!-- Left Column -->
                <div class="left-column">
                    <div class="car-image">
                        <img src={carImageUrl} alt={car.Name} />
                    </div>

                    <div class="specs">
                        <div class="spec">
                            <div class="number">{car.Fuel_Consumption__c}</div>
                            <div class="label">Fuel Consumption (km/L)</div>
                        </div>
                        <div class="spec">
                            <div class="number">{car.Seating_Capacity__c}</div>
                            <div class="label">Seating Capacity</div>
                        </div>
                        <div class="spec">
                            <div class="number">{car.Alloy_Wheels__c}</div>
                            <div class="label">Alloy Wheels</div>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="right-column">
                    <h3 class="section-title">{car.Name}</h3>

                    <!-- VARIANTS -->
                    <template for:each={variants} for:item="variant">
                        <button key={variant.Id} class={variant.cssClass} data-id={variant.Id} onclick={handleVariantClick}>
                            <div class="button-left">{variant.name}</div>
                            <div class="button-right">{variant.price}</div>
                        </button>
                    </template>

                    <!-- COLORS -->
                    <h3 class="section-title">Car Colors</h3>
                    <template for:each={colors} for:item="color">
                        <button key={color.id} class={color.cssClass} data-id={color.id} onclick={handleColorClick}>
                            <div class="color-swatch" style={color.style}></div>
                            <div class="color-name">{color.name}</div>
                        </button>
                    </template>
                </div>
            </div>

            <!-- Footer Section -->
            <footer class="footer-bar">
                <div class="price-info">
                    <span class="price">
                        â‚¹{selectedVariantPrice}<sup>*</sup>
                    </span>
                    <span class="availability">only {selectedVariantQuantity} left</span>
                </div>
                <button class="buy-button">Buy</button>
            </footer>
        </template>

        <template if:false={car}>
            <div class="loading">Loading car details...</div>
        </template>
    </div>
</template>
